# 📊 Fitur Detail Keuangan - TemanKu Mobile

## Overview

Halaman **Statistik** sekarang punya tab **Detail** yang menampilkan informasi penting tentang pola keuanganmu dengan cara yang mudah dipahami.

## Apa yang Bisa Kamu Lihat?

### 1. 💰 Info Penting

Lihat 3 angka penting tentang keuanganmu:

- **Rata-rata per Transaksi**: Berapa biasanya kamu keluar/terima uang per transaksi
- **Paling Sering**: Nominal yang paling sering kamu pakai
- **Terkecil - Terbesar**: Range transaksimu

**Manfaat**: Tahu berapa biasanya kamu pakai uang, jadi bisa atur budget

---

### 2. 💡 Pola Keuanganmu

Aplikasi otomatis kasih tahu pola pengeluaranmu:

- ✅ **Stabil**: Pengeluaranmu merata, tidak ada yang ekstrem
- ⚠️ **Boros**: Sering keluar uang banyak, coba lebih hemat
- 💡 **Normal**: Biasanya kecil-kecil, kadang ada yang besar

**Manfaat**: Langsung tahu apakah kamu termasuk hemat atau boros

---

### 3. 🚨 Transaksi Tidak Biasa

Deteksi otomatis transaksi yang aneh atau tidak wajar:

**Status:**

- ✅ **Aman** (hijau): Pengeluaranmu konsisten, semua wajar
- ℹ️ **Cukup Baik** (biru): Ada beberapa yang besar tapi masih oke
- ⚠️ **Perlu Hati-hati** (orange): Lumayan banyak yang gak biasa
- ❗ **Waspada** (merah): Banyak transaksi aneh, perlu kontrol

**Bonus**: Langsung keliatan daftar transaksi yang nilainya aneh

**Manfaat**: Bisa langsung review transaksi yang mencurigakan atau lupa catat

---

## Cara Pakai

1. Buka menu **Statistik**
2. Pilih tab **Detail** (di sebelah tab Ringkasan)
3. Pilih periode: Bulan / Kuartal / Tahun
4. Scroll lihat analisis untuk:
   - 📉 Pengeluaran
   - 📈 Pemasukan

---

## Contoh Tampilan

```
📉 Statistika Pengeluaran
Total 85 transaksi

💰 Info Penting
┌─────────────────────────────────┐
│ Rata-rata per Transaksi         │
│ Rp 125.000                      │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ Paling Sering                   │
│ Rp 100.000                      │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ Terkecil - Terbesar             │
│ Rp 15.000 - Rp 500.000          │
└─────────────────────────────────┘

💡 Pola Keuanganmu
┌─────────────────────────────────┐
│ ✅ Stabil                       │
│ Pengeluaranmu merata,           │
│ tidak ada yang ekstrem          │
└─────────────────────────────────┘

🚨 Transaksi Tidak Biasa
┌─────────────────────────────────┐
│ ℹ️ Cukup Baik                   │
│ 8 dari 85 transaksi tidak wajar │
│                                 │
│ Transaksi Aneh: 3               │
│ Rp 450.000, Rp 500.000,         │
│ Rp 480.000                      │
└─────────────────────────────────┘
```

---

## Kenapa Ini Berguna?

### ✅ Mudah Dipahami

- Gak pakai istilah teknis yang bikin bingung
- Langsung kasih insight, gak perlu analisis sendiri
- Pakai emoji dan warna biar jelas

### 🎯 Actionable

- Tahu apakah perlu lebih hemat
- Bisa review transaksi yang aneh
- Bantu atur budget lebih baik

### ⚡ Cepat

- Cukup lihat 3 bagian aja:
  1. Info Penting
  2. Pola Keuangan
  3. Transaksi Tidak Biasa
- Gak perlu scroll banyak-banyak

---

## Tips Penggunaan

### 💡 Review Rutin

Cek tab Detail setiap akhir bulan untuk tahu:

- Apakah pengeluaranmu masih wajar?
- Ada transaksi aneh yang lupa dicatat?
- Perlu hemat bulan depan?

### 🎯 Atur Budget

Pakai angka "Rata-rata per Transaksi" untuk:

- Tentukan budget harian
- Perkiraan pengeluaran bulan depan
- Set target hemat

### 🚨 Deteksi Masalah

Kalau status "Waspada":

- Review daftar transaksi aneh
- Cek apakah ada pengeluaran yang bisa dikurangi
- Plan untuk lebih disiplin bulan depan

---

## FAQ

**Q: Apa bedanya tab Ringkasan dan Detail?**
A: Ringkasan = total & grafik kategori. Detail = analisis pola & deteksi anomali.

**Q: Apa itu "transaksi tidak biasa"?**
A: Transaksi yang nilainya jauh berbeda dari kebiasaanmu. Misal biasanya Rp 50rb, tiba-tiba Rp 500rb.

**Q: Kalau status "Waspada" bahaya gak?**
A: Bukan bahaya, tapi perlu review. Mungkin ada pengeluaran besar yang lupa atau perlu dikontrol.

**Q: Berapa minimal transaksi biar akurat?**
A: Minimal 20-30 transaksi. Makin banyak makin akurat.

---

## Update Log

**Version 1.1** (October 27, 2025)

- ✅ Ubah nama tab jadi "Detail" (lebih simpel)
- ✅ Ringkas section jadi 3 bagian utama
- ✅ Hapus istilah teknis yang bikin bingung
- ✅ Insight lebih jelas dan actionable
- ✅ UI lebih clean dan mudah dibaca

**Version 1.0** (October 27, 2025)

- 🎉 Rilis pertama fitur Statistika Deskriptif

---

**TemanKu - Kelola Keuangan Lebih Mudah! 💰✨**

## Overview

Halaman **Statistik** kini dilengkapi dengan fitur analisis statistika deskriptif yang komprehensif untuk membantu pengguna memahami pola pengeluaran dan pemasukan mereka secara mendalam menggunakan metode statistika.

## Fitur yang Tersedia

### 1. 📍 Ukuran Pemusatan

Mengukur nilai sentral dari data transaksi:

- **Mean (Rata-rata)**: Jumlah semua nilai dibagi banyaknya data
- **Median (Nilai Tengah)**: Nilai yang berada di tengah setelah data diurutkan
- **Mode (Modus)**: Nilai yang paling sering muncul dalam data

**Manfaat**: Memahami rata-rata pengeluaran/pemasukan dan nilai yang paling umum

---

### 2. 📈 Ukuran Variasi

Mengukur penyebaran atau keragaman data:

- **Range (Rentang)**: Selisih antara nilai maksimum dan minimum
- **Variance (Varians)**: Rata-rata dari kuadrat selisih data dengan mean
- **Standard Deviation (Simpangan Baku)**: Akar dari varians, ukuran penyebaran data
- **Coefficient of Variation**: Perbandingan standar deviasi dengan mean dalam persen

**Manfaat**: Mengetahui seberapa konsisten pola pengeluaran/pemasukan Anda

---

### 3. 📊 Kuartil

Membagi data menjadi 4 bagian sama besar:

- **Q1 (Kuartil 1)**: 25% data berada di bawah nilai ini
- **Q2 (Kuartil 2 / Median)**: 50% data berada di bawah nilai ini
- **Q3 (Kuartil 3)**: 75% data berada di bawah nilai ini
- **IQR (Interquartile Range)**: Rentang antara Q1 dan Q3

**Manfaat**: Memahami distribusi transaksi dalam kategori rendah, sedang, dan tinggi

---

### 4. 📉 Desil (D1 - D9)

Membagi data menjadi 10 bagian sama besar:

- **D1**: 10% data berada di bawah nilai ini
- **D2**: 20% data berada di bawah nilai ini
- **...sampai...**
- **D9**: 90% data berada di bawah nilai ini

**Manfaat**: Analisis yang lebih detail daripada kuartil

---

### 5. 💯 Persentil

Persentil terpilih untuk analisis khusus:

- **P10, P25, P50, P75, P90, P95, P99**

**Manfaat**: Memahami posisi transaksi tertentu dalam distribusi keseluruhan

---

### 6. 📦 Boxplot

Visualisasi grafis dari data statistik yang menampilkan:

- Nilai Minimum dan Maximum
- Kuartil (Q1, Median, Q3)
- **Outliers**: Nilai yang sangat berbeda dari pola umum
- **Fence**: Batas bawah dan atas untuk mendeteksi outliers

**Manfaat**:

- Melihat distribusi data secara visual
- Mendeteksi transaksi yang tidak biasa (outliers)
- Memahami range normal pengeluaran/pemasukan

**Interpretasi Outliers**:

- Outliers adalah transaksi yang berada di luar Lower Fence atau Upper Fence
- Lower Fence = Q1 - (1.5 × IQR)
- Upper Fence = Q3 + (1.5 × IQR)
- Outliers ditandai dengan titik merah dalam boxplot

---

### 7. 🔀 Ukuran Kemencengan Kurva (Skewness)

Mengukur kemencengan distribusi data:

- **Nilai < -0.5**: Miring ke kiri (negatif) - Banyak transaksi besar
- **Nilai -0.5 sampai 0.5**: Simetris (tidak miring) - Distribusi normal
- **Nilai > 0.5**: Miring ke kanan (positif) - Banyak transaksi kecil

**Manfaat**: Memahami apakah pengeluaran cenderung kecil-kecil atau ada beberapa yang besar

---

### 8. 📐 Ukuran Keruncingan Kurva (Kurtosis)

Mengukur keruncingan puncak distribusi:

- **Nilai < -0.5**: Platikurtik (datar) - Data tersebar merata
- **Nilai -0.5 sampai 0.5**: Mesokurtik (normal) - Distribusi normal
- **Nilai > 0.5**: Leptokurtik (runcing) - Data terpusat di sekitar mean

**Manfaat**: Mengetahui apakah transaksi terkonsentrasi pada nilai tertentu atau tersebar

---

### 9. 📏 Z-Score Analysis

Mengukur seberapa jauh suatu nilai dari rata-rata dalam satuan standar deviasi:

**Kategori Z-Score**:

- **Normal** (|z| < 1): 68% data normal berada di sini
- **Agak Ekstrem** (1 ≤ |z| < 2): Transaksi di atas/bawah rata-rata
- **Ekstrem** (2 ≤ |z| < 3): Transaksi yang jarang terjadi
- **Sangat Ekstrem** (|z| ≥ 3): Transaksi yang sangat tidak biasa

**Manfaat**:

- Identifikasi transaksi yang tidak biasa
- Deteksi pola pengeluaran abnormal
- Evaluasi konsistensi keuangan

---

## Cara Menggunakan

### 1. Buka Halaman Statistik

Navigasi ke menu **Statistik** dari bottom navigation bar

### 2. Pilih Tab "Statistika Deskriptif"

Aplikasi memiliki 2 tab:

- **Ringkasan**: Statistik umum dan visualisasi kategori
- **Statistika Deskriptif**: Analisis mendalam (FITUR BARU)

### 3. Pilih Periode Analisis

Tersedia 3 periode:

- **Bulan**: Bulan berjalan
- **Kuartal**: 3 bulan terakhir
- **Tahun**: Tahun berjalan

### 4. Lihat Analisis

Data dipisah menjadi:

- 📉 **Statistika Pengeluaran**: Analisis semua transaksi expense
- 📈 **Statistika Pemasukan**: Analisis semua transaksi income

---

## Contoh Interpretasi

### Skenario 1: Pengeluaran Stabil

```
Mean: Rp 150.000
Median: Rp 145.000
Standard Deviation: Rp 25.000
Skewness: 0.2 (Simetris)
Kurtosis: -0.1 (Mesokurtik)
Outliers: 2 transaksi
```

**Interpretasi**:

- Pengeluaran Anda konsisten sekitar Rp 145.000 - Rp 150.000
- Variasi rendah (SD Rp 25.000) menunjukkan pola yang stabil
- Distribusi normal, tidak ada dominasi transaksi besar atau kecil
- Hanya 2 transaksi yang tidak biasa

**Rekomendasi**: Budget planning mudah, pola sudah baik

---

### Skenario 2: Pengeluaran Tidak Stabil

```
Mean: Rp 200.000
Median: Rp 100.000
Standard Deviation: Rp 120.000
Skewness: 1.8 (Miring ke kanan)
Kurtosis: 2.5 (Leptokurtik)
Outliers: 15 transaksi
```

**Interpretasi**:

- Median jauh di bawah mean → Ada transaksi besar yang menarik rata-rata
- Variasi tinggi (SD Rp 120.000) → Pola tidak konsisten
- Skewness positif → Banyak transaksi kecil, beberapa sangat besar
- Banyak outliers → Sering ada pengeluaran tidak terduga

**Rekomendasi**:

- Perlu kontrol untuk transaksi besar
- Buat buffer dana untuk pengeluaran tak terduga
- Review transaksi outliers untuk identifikasi pola

---

## Struktur Kode

### 1. Model Statistika

**File**: `lib/utils/descriptive_statistics.dart`

```dart
class DescriptiveStatistics {
  final List<double> data;

  // Properties untuk semua metrik statistika
  late final double mean;
  late final double median;
  late final double mode;
  // ... dll

  // Methods
  String get skewnessInterpretation;
  String get kurtosisInterpretation;
  bool isOutlier(double value);
  static String getZScoreCategory(double zScore);
}
```

**Fitur**:

- Perhitungan otomatis semua metrik statistika
- Interpretasi kemencengan dan keruncingan
- Deteksi outliers
- Kategorisasi Z-Score

---

### 2. Widget Boxplot

**File**: `lib/widgets/boxplot_widget.dart`

```dart
class BoxPlotWidget extends StatelessWidget {
  final DescriptiveStatistics stats;
  final String Function(num) formatValue;
  final Color color;

  // Menampilkan:
  // - Boxplot visual dengan Custom Painter
  // - Legend nilai-nilai penting
  // - Summary statistik
  // - Daftar outliers
}
```

**Fitur**:

- Visualisasi boxplot dengan Custom Painter
- Legend interaktif
- Highlight outliers
- Responsive layout

---

### 3. Statistics Page Update

**File**: `lib/pages/statistics_page.dart`

**Perubahan**:

- ✅ Tambah `TabController` untuk 2 tab
- ✅ Tab 1: Ringkasan (existing)
- ✅ Tab 2: Statistika Deskriptif (new)
- ✅ Load data transaksi untuk analisis
- ✅ Pisah analisis expense dan income
- ✅ Section-based layout untuk kemudahan navigasi

---

## Manfaat untuk Pengguna

### 1. 💡 Pemahaman Mendalam

- Tidak hanya tahu total, tapi memahami pola
- Deteksi kebiasaan pengeluaran yang tidak disadari
- Identifikasi area untuk perbaikan

### 2. 🎯 Budget Planning

- Mean dan median membantu tentukan budget realistis
- Standard deviation membantu tentukan buffer dana
- Persentil membantu kategorisasi pengeluaran

### 3. 🚨 Deteksi Anomali

- Outliers menunjukkan transaksi tidak biasa
- Z-Score membantu evaluasi kewajaran transaksi
- Skewness menunjukkan keseimbangan pengeluaran

### 4. 📊 Data-Driven Decisions

- Keputusan finansial berdasarkan data, bukan feeling
- Evaluasi efektivitas strategi pengelolaan keuangan
- Tracking improvement dari waktu ke waktu

---

## Teknologi yang Digunakan

- **Flutter**: Framework UI
- **Dart Math Library**: Perhitungan statistika
- **Custom Painter**: Visualisasi boxplot
- **Provider**: State management
- **SQLite**: Data persistence

---

## Future Enhancements

### Planned Features:

1. **📈 Trend Analysis**

   - Perbandingan statistika antar periode
   - Grafik trend mean, median, dan SD

2. **🎨 Interactive Charts**

   - Histogram distribusi
   - Normal distribution overlay
   - Interactive boxplot dengan zoom

3. **📱 Export & Share**

   - Export statistika ke PDF/Excel
   - Share insights via social media

4. **🤖 AI Insights**

   - Rekomendasi otomatis berdasarkan pola
   - Prediksi pengeluaran bulan depan
   - Alert untuk pola abnormal

5. **📊 Advanced Statistics**
   - Correlation analysis antar kategori
   - Regression analysis
   - Time series forecasting

---

## Tips Penggunaan

### ✅ Best Practices:

1. **Pilih Periode yang Cukup**

   - Minimal 30 transaksi untuk hasil akurat
   - Gunakan periode bulanan untuk analisis rutin

2. **Review Outliers Secara Berkala**

   - Cek apakah outliers adalah transaksi valid
   - Identifikasi penyebab transaksi ekstrem

3. **Bandingkan Periode**

   - Lihat statistika bulan ini vs bulan lalu
   - Tracking improvement dari waktu ke waktu

4. **Gunakan Z-Score untuk Budget**

   - Transaksi dengan |z| > 2 perlu approval khusus
   - Set alert untuk transaksi ekstrem

5. **Kombinasikan dengan Tab Ringkasan**
   - Statistika Deskriptif untuk analisis mendalam
   - Ringkasan untuk overview cepat

---

## Kesimpulan

Fitur **Statistika Deskriptif** memberikan tools analisis yang powerful untuk memahami pola keuangan Anda secara mendalam. Dengan 9 kategori analisis yang komprehensif, pengguna dapat membuat keputusan finansial yang lebih baik berdasarkan data.

**Happy Analyzing! 📊💰**

---

## Support & Feedback

Jika ada pertanyaan atau saran untuk fitur ini, silakan hubungi tim development atau buat issue di repository.

**Version**: 1.0.0  
**Last Updated**: October 27, 2025  
**Author**: TemanKu Development Team
